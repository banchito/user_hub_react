(this.webpackJsonpuser_hub_react=this.webpackJsonpuser_hub_react||[]).push([[0],{53:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var r=n(9),c=n(0),s=n(28),a=n.n(s),u=n(10),o=n.n(u),i=n(13),j=n(14),l=n.n(j),h="https://jsonplace-univclone.herokuapp.com";function b(){return(b=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(h,"/users"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function d(){return(d=Object(i.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(h,"/users/").concat(t,"/posts"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function O(){return(O=Object(i.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(h,"/users/").concat(t,"/todos"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var p=n(12);n(53);var f=n(1),x=function(e){var t=e.currentUser,n=e.setCurrentUser,s=e.userList,a=Object(c.useState)(),u=Object(r.a)(a,2),o=u[0],i=u[1];Object(c.useEffect)((function(){i(s[0])}),[s]);return Object(f.jsxs)("header",{children:[Object(f.jsx)("h1",{children:"Welcome to UserHub"}),Object(f.jsx)("form",{className:"user-select",onSubmit:function(e){e.preventDefault()},children:t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p.b,{to:"/posts",activeClassName:"current",children:"POSTS"}),Object(f.jsx)(p.b,{to:"/todos",activeClassName:"current",children:"TODOS"}),Object(f.jsxs)("button",{onClick:function(e){i(s[0]),localStorage.removeItem("currentUser"),n(null)},children:["LOG OUT, ",t.username]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("select",{onChange:function(e){var t=e.target.value,n=s.find((function(e){return e.id==t}));i(n)},children:s.map((function(e){return Object(f.jsx)("option",{value:e.id,children:e.username},e.id)}))}),Object(f.jsx)("button",{onClick:function(e){var t;t=o,localStorage.setItem("currentUser",JSON.stringify(t)),n(o)},children:"LOG IN"})]})})]})},v=(n(60),function(e){var t=e.currentUser,n=e.userPosts;return Object(f.jsxs)("div",{className:"user-posts",children:[Object(f.jsxs)("h2",{children:[" Posts By ",t.username]}),n.map((function(e){var t=e.id,n=e.title,r=e.body;return Object(f.jsxs)("div",{className:"post",children:[Object(f.jsx)("h3",{children:n}),Object(f.jsx)("p",{children:r})]},t)}))]})}),m=(n(61),function(e){var t=e.currentUser,n=e.userTodos;return Object(f.jsxs)("div",{className:"user-todos",children:[Object(f.jsxs)("h2",{children:["Todos By ",t.username]}),n.map((function(e){var t=e.id,n=e.title,r=e.completed;return Object(f.jsx)("div",{className:"todo",children:Object(f.jsx)("h3",{style:{textDecoration:r?"line-through":"none"},children:n})},t)}))]})}),g=n(2),y=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(JSON.parse(localStorage.getItem("currentUser"))),u=Object(r.a)(a,2),o=u[0],i=u[1],j=Object(c.useState)([]),l=Object(r.a)(j,2),h=l[0],y=l[1],S=Object(c.useState)([]),U=Object(r.a)(S,2),w=U[0],N=U[1];return Object(c.useEffect)((function(){(function(){return b.apply(this,arguments)})().then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){if(!o)return y([]),void N([]);(function(e){return d.apply(this,arguments)})(o.id).then((function(e){y(e)})).catch((function(e){console.log(e)})),function(e){return O.apply(this,arguments)}(o.id).then((function(e){N(e)})).catch((function(e){console.log(e)}))}),[o]),Object(f.jsx)(p.a,{children:Object(f.jsxs)("div",{id:"App",children:[Object(f.jsx)(x,{userList:n,currentUser:o,setCurrentUser:i}),o?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.d,{children:[Object(f.jsx)(g.b,{path:"/posts",children:Object(f.jsx)(v,{userPosts:h,currentUser:o})}),Object(f.jsx)(g.b,{path:"/todos",children:Object(f.jsx)(m,{userTodos:w,currentUser:o})}),Object(f.jsx)(g.b,{exact:!0,path:"/",children:Object(f.jsxs)("h2",{style:{padding:".5em"},children:["Welcome, ",o.username,"!"]})}),Object(f.jsx)(g.a,{to:"/"})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.d,{children:[Object(f.jsx)(g.b,{exact:!0,path:"/",children:Object(f.jsx)("h2",{style:{padding:".5em"},children:"Please log in, above."})}),Object(f.jsx)(g.a,{to:"/"})]})})]})})};a.a.render(Object(f.jsx)(y,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.010e6dbc.chunk.js.map
{"version":3,"sources":["api/index.js","components/Header.js","auth/index.js","components/UserPosts.js","components/UserTodos.js","index.js"],"names":["BASE","a","axios","get","data","userId","Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","localStorage","removeItem","username","onChange","id","target","value","user","find","map","setItem","JSON","stringify","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","App","setUserList","parse","getItem","setUserPosts","setUserTodos","getUsers","then","users","catch","error","console","log","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.010e6dbc.chunk.js","sourcesContent":["import axios from 'axios';\nconst BASE = 'https://jsonplace-univclone.herokuapp.com';\n\nexport async function getUsers(){\n    try{\n        const {data} = await axios.get(`${BASE}/users`);\n        return data;\n    }catch(error){\n        throw error;\n    }\n}\n\nexport async function getPostsByUser(userId){\n    try{\n        const {data} = await axios.get(`${ BASE }/users/${ userId }/posts`)\n        return data\n    }catch (error){\n        throw error\n    }\n}\n\nexport async function getTodosByUser(userId){\n    try{\n        const {data} = await axios.get(`${ BASE }/users/${ userId }/todos`);\n        return data\n    }catch(error){\n        throw error  \n    }\n}\n\n","import React, { useState, useEffect } from \"react\";\nimport { NavLink } from 'react-router-dom';\nimport {storeCurrentUser, clearCurrentUser} from '../auth'\nimport \"./Header.css\";\n\nconst Header = ({ currentUser, setCurrentUser,userList }) => {\n\n    const [selectedUser, setSelectedUser] = useState();\n   \n    useEffect(() => { setSelectedUser(userList[0]);}, [userList]);\n  \n    const handleSubmit = (event) => {\n      event.preventDefault();\n    }\n  \n    const handleSelectChange = (event) => {\n      const id = event.target.value;\n      const user = userList.find(user => user.id == id);\n      setSelectedUser(user);\n    }\n  \n    const handleUserLogin = (event) => {\n      storeCurrentUser(selectedUser);\n      setCurrentUser(selectedUser);\n    }\n  \n    const handleUserLogout = (event) => {\n      setSelectedUser(userList[0]);\n      clearCurrentUser();\n      setCurrentUser(null);\n    }\n  \n    return (\n      <header>\n      <h1>Welcome to UserHub</h1>\n      <form \n        className=\"user-select\" \n        onSubmit={ handleSubmit } >\n        {\n          currentUser\n          ? <> \n              <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n              <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink>\n              <button onClick={ handleUserLogout }>LOG OUT, { currentUser.username }</button>\n            </>\n          : <>\n              <select onChange={ handleSelectChange }>{\n                userList.map(user => (\n                  <option key={ user.id } value={ user.id }>\n                    { user.username }\n                  </option>\n                ))\n              }</select>\n              <button onClick={ handleUserLogin }>LOG IN</button>\n            </>\n        }\n      </form>\n    </header>\n    );\n  }\n export default Header;","export function storeCurrentUser(user) {\n    localStorage.setItem('currentUser', JSON.stringify(user));\n}\n  \n  export function getCurrentUser() {\n    const user = JSON.parse(localStorage.getItem('currentUser'));\n    return user;\n}\n\n  export function clearCurrentUser() {\n    localStorage.removeItem('currentUser');\n}\n  ","import React from \"react\";\nimport \"./UserPosts.css\";\n\nconst UserPosts = ({ currentUser, userPosts }) => {\n  return (\n    <div className=\"user-posts\">\n      <h2> Posts By {currentUser.username}</h2>\n      {\n          userPosts.map(({id, title, body}) => (\n            <div key={id} className=\"post\">\n                <h3>{title}</h3>\n                <p>{body}</p>\n            </div>\n          ))}\n    </div>\n  );\n}\n\nexport default UserPosts;\n","import React from 'react';\n\nimport './UserTodos.css';\n\nconst UserTodos = ({currentUser,userTodos}) => {\n  return (\n    <div className=\"user-todos\">\n      <h2>Todos By { currentUser.username }</h2>\n      {userTodos.map(({ id, title, completed }) => (\n        <div key={ id } className=\"todo\">\n          <h3 style={{\n            textDecoration: completed ? 'line-through' : 'none'\n          }}>{ title }</h3>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default UserTodos;","import React, { useEffect, useState } from \"react\";\n\nimport ReactDOM from \"react-dom\";\n\nimport { getUsers, getPostsByUser, getTodosByUser } from \"./api\";\nimport { Header, UsersPosts, UserTodos } from \"./components\";\nimport { BrowserRouter as Router, Route, Switch, Redirect} from 'react-router-dom';\nimport {getCurrentUser} from './auth';\n\nconst App = () => {\n  const [userList, setUserList]       = useState([]);\n  const [currentUser, setCurrentUser] = useState(getCurrentUser());\n  const [userPosts, setUserPosts]     = useState([]);\n  const [userTodos, setUserTodos]     = useState([]);\n\n  useEffect(() => { getUsers()\n      .then((users) => {\n        setUserList(users);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  useEffect(() => {\n\n    if (!currentUser) {setUserPosts([]); setUserTodos([]); return; } \n      \n    getPostsByUser(currentUser.id)\n      .then((posts) => {\n        setUserPosts(posts);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n      getTodosByUser(currentUser.id)\n      .then(todos => {\n        setUserTodos(todos);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n  }, [currentUser]);\n\n  return (\n    <Router>\n      <div id=\"App\">\n        <Header\n          userList={userList}\n          currentUser={currentUser}\n          setCurrentUser={setCurrentUser}/>\n        {\n        \n          currentUser ? <>\n            <Switch>\n              <Route path=\"/posts\">\n                <UsersPosts userPosts={userPosts} currentUser={currentUser} />\n              </Route>\n              <Route path=\"/todos\">\n                <UserTodos userTodos={userTodos} currentUser={currentUser} />\n              </Route>\n              <Route exact path=\"/\">\n                    <h2 style={{padding: \".5em\"}}>Welcome, { currentUser.username }!</h2>\n              </Route>\n                  <Redirect to=\"/\" />\n            </Switch>\n        </> : <>\n            <Switch>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Please log in, above.</h2>\n                </Route>\n                <Redirect to=\"/\" />\n            </Switch>\n            </>\n        }\n      </div>\n    </Router>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}